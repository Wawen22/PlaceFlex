# 2025-11-12 — Creazione Momenti (Sprint 0 Continuazione)

## Decisions
- Implementazione iniziale creazione momenti con supporto foto + testo
- Bucket Supabase Storage `moments` creato on-demand e pubblico per CDN
- UI mobile usa `SegmentedButton` per selezione tipo contenuto e visibilità, FAB sulla tab "Scopri"

## Schema Updates
- Tipi enum: `moment_media_type`, `moment_visibility`, `moment_status`
- Tabella `public.moments` con campo `location` (geometry Point 4326) e indice GIST
- Trigger `moments_handle_updated_at` e politiche RLS (owner CRUD, pubblico per momenti pubblicati)

## App Implementation
- `CreateMomentPage` con Geolocator + fallback inserimento manuale coordinate, upload media via `image_picker`
- `MomentsRepository` centralizza creazione record e upload Storage
- `HomeShell` espande navigazione con FAB per nuovi momenti e snackbar di conferma
- Aggiornati manifest Android/iOS per permessi location/media

## Tests & Tooling
- `flutter analyze` e `flutter test` verdi dopo introduzione nuove dipendenze
- Documentazione OpenSpec aggiornata (project.md, priority2 spec)
